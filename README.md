# Проектирование архитектуры ПО
## Назначение проектируемой системы
Автоматизация работы гостиничного комплекса.

## Функциональные требования
*Участники и их интересы*

1. Менеджер
  * Решает финансовые вопросы
  * Заключает договоры с клиентами
  * Осуществляет контроль за соблюдением правил проживания
2. Администратор на ресепшене
  * Отвечает за проверку документов клиентов
  * Оформляет клиента при заселении в гостиницу и выезде из нее
  * Заносит в систему информацию о свободных, забронированных и занятых комнатах
3. Клиент
  * Бронирует комнату в гостинице
  * Заключает договор с гостиницей и осуществляет оплату
  * Заселяется/выселяется

*Требуемая функциональность системы*

1. Хранение подробной информации о комнатах гостинцы (стоимость проживания, количество мест, статус, сроки) и ее модификация
2. Хранение и обработка информации о клиентах
3. Бронирование комнат
4. Оформление договоров

## Варианты использования 
*Диаграмма прецедентов*

![use-cases](https://raw.githubusercontent.com/KseniaNazarova/Design_of_SW_architecture/b4cd9d0474eb5b0e6c5459b41eb5e87ebc763c2f/res/use-cases.png)

1. Процесс бронирования.
1.1. Клиент выбирает подходящую команту в гостинице.
1.2. Клиент отправляет заявку на бронирование и вносит личную информацию.
1.3. Администратор (регистратор) подтверждает запрос по почте или телефону.
1.4. Клиент заносит информацию о счете для предоплаты.
1.5. Система осуществляет авторизацию карты оплаты и выполняет предоплату.
1.6. Система оповещает клиента об удачном завершении предоплаты по адресу его электронной почты или номеру телефона.
1.7. Между клиентом и гостиницей (менеджером) заключается договор.
1.8. Система меняет статус комнаты на "Забронирована" и заносит сроки бронирования.

Альтернативы:
1.а. На шаге 1.2 клиент вводит неверные личные данные.
Подтверждение бронирования (шаг 1.3) становится невозможным. Бронь снимается, клиент никак не оповещается.
1.б. На шаге 1.3 регистратор отклоняет запрос на бронирование.
Регистратор оповещает клиента о невозможности бронирования и по возвожности предлагает другую комнату или время. Для связи используется email или номер телефона, введенные клиентом ранее.
1.в. На шаге 1.5 система получает отрицательный ответ на запрос о состоянии счета клиента.
Необходимо предоставить клиенту возможность повторно ввести информацию о карте оплаты и выполнить ее авторизацию.
1.г. На шаге 1.5 система не выполняет предоплаты из-за недостаточности средств.
Система предлагает отменить бронирование или ввести другие данные о карте оплаты.
1.д. На шаге 1.4 при личном присутствии клиента администратор может принять предоплату по наличному расчету. Тогда шаг 1.5 - 1.6 пропускаются.

2. Процесс заселения.
2.1. Администратор проверяет договор и принимает остаток оплаты.
2.2. Администратор меняет статус комнаты на "Заселена".

Альтернативы:
2.а. Клиент пытается заселиться, не бронируя место заранее.
Администратор проверяет наличие свободных мест и предлагает их клиенту. Если есть свободные места, которые удовлеворяют клиента, тогда:
2.а.1. Клиент предоставляет личную информацию.
2.а.2. Оплачивает полную стоимость проживания.
2.а.3. Заколючается договор с менеджером.
2.а.4. Администратор меняет статус комнаты на "Заселена".
Если свободных мест нет, администратор предлагает забронировать комнату на другое время. Если клиент согласен, тогда переход к шагу 1.4.
2.б. Клиент не появляется в день заселения и не оплачивает остаток стоимости.
Администратор меняет статус комнаты на "Свободна". Предоплата не возвращается.
2.в. По техническим причинам заселение не возможно.
По возможности, администратор заранее оповещает клиента о невозможности заселения. Предоплата возвращается.

3. Процесс выселения.
3.1. Менеджер проверяет комнату после выселения клиента.
3.2. Администратор менят статус комнаты на "Свободна".

Альтернативы:
3.а. Преждевременное выселение
Если клиент нарушил оговоренные в договоре правила, менеджер вправе расторгнуть договор с клиентом без возвращения оплаты.
Если гостиница нарушила оговоренные в договоре правила, клиент вправе расторгнуть договор с гостиницей и запросить возвращение оплаты.



